import{g as c,t as $,i as l,a as g,c as i,m as me,C as ve,P as xe,j as p,o as Z,S,b as R,d as ee,f as _e,n as B,s as j,L as te,F as fe,p as Se,R as J,u as ye,q as we,v as pe,V as Ce,w as Pe}from"./main-Dql0iJJ5.js";import{l as ke}from"./video-data-COC3ve_A.js";import{e as Ve,h as Me}from"./watch-later-DSiUGnA7.js";var Ie=$('<div class="grid grid-cols-3 gap-4 max-w-lg mx-auto mb-8"><div class="bg-emerald-800/50 rounded-xl p-4 text-center backdrop-blur-sm border border-emerald-700/50"><div class="text-2xl font-bold text-amber-400"></div><div class="text-sm text-emerald-300">ÙÙŠØ¯ÙŠÙˆ</div></div><div class="bg-emerald-800/50 rounded-xl p-4 text-center backdrop-blur-sm border border-emerald-700/50"><div class="text-2xl font-bold text-amber-400"></div><div class="text-sm text-emerald-300">Ù‚Ø§Ø¦Ù…Ø© ØªØ´ØºÙŠÙ„</div></div><div class="bg-emerald-800/50 rounded-xl p-4 text-center backdrop-blur-sm border border-emerald-700/50"><div class="text-2xl font-bold text-amber-400"></div><div class="text-sm text-emerald-300">ØªØµÙ†ÙŠÙ');function Le(e){return(()=>{var t=c(Ie),r=t.firstChild,a=r.firstChild,s=r.nextSibling,h=s.firstChild,b=s.nextSibling,d=b.firstChild;return l(a,()=>e.totalVideos),l(h,()=>e.totalPlaylists),l(d,()=>e.categoriesCount),t})()}var Fe=$('<header class="bg-gradient-to-b from-emerald-900 to-emerald-950 pt-24 pb-8"><div class="container mx-auto px-4"><div class="text-center mb-8"><h1 class="text-4xl md:text-5xl font-bold text-amber-400 mb-4 font-cairo">ğŸ“š <!$><!/></h1><p class="text-emerald-200 text-lg max-w-2xl mx-auto"></p></div><!$><!/><!$><!/>');function Ne(e){return(()=>{var t=c(Fe),r=t.firstChild,a=r.firstChild,s=a.firstChild,h=s.firstChild,b=h.nextSibling,[d,o]=g(b.nextSibling),v=s.nextSibling,_=a.nextSibling,[x,w]=g(_.nextSibling),P=x.nextSibling,[u,y]=g(P.nextSibling);return l(s,()=>e.title,d,o),l(v,()=>e.description),l(r,i(Le,{get totalVideos(){return e.stats.totalVideos},get totalPlaylists(){return e.stats.totalPlaylists},get categoriesCount(){return e.stats.categoriesCount}}),x,w),l(r,i(me,{get value(){return e.searchQuery},get onInput(){return e.onSearchChange}}),u,y),t})()}var Be=$('<aside class="lg:w-80 order-2 lg:order-1"><div class="bg-emerald-900/30 rounded-xl p-4 border border-emerald-700/30 sticky top-24"><div class=mb-6><h3 class="text-lg font-bold text-amber-400 mb-4">Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</h3><!$><!/></div><div><h3 class="text-lg font-bold text-amber-400 mb-4">Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„ØªØ´ØºÙŠÙ„</h3><!$><!/>');function Ae(e){return(()=>{var t=c(Be),r=t.firstChild,a=r.firstChild,s=a.firstChild,h=s.nextSibling,[b,d]=g(h.nextSibling),o=a.nextSibling,v=o.firstChild,_=v.nextSibling,[x,w]=g(_.nextSibling);return l(a,i(ve,{get categories(){return e.categories},get playlists(){return e.playlists},get selectedCategory(){return e.selectedCategory},get onCategoryClick(){return e.onCategoryClick}}),b,d),l(o,i(xe,{get playlists(){return e.playlists},get selectedPlaylist(){return e.selectedPlaylist},get selectedCategory(){return e.selectedCategory},get onPlaylistClick(){return e.onPlaylistClick},get onClearSelection(){return e.onClearPlaylistSelection}}),x,w),t})()}var De=$('<div class="mt-2 h-1.5 bg-emerald-800 rounded-full overflow-hidden"><div>'),Qe=$('<span class="bg-green-500/20 text-green-400 text-xs px-2 py-0.5 rounded-full flex items-center gap-1"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd></path></svg>Ù…ÙƒØªÙ…Ù„'),je=$('<span class="bg-amber-500/20 text-amber-400 text-xs px-2 py-0.5 rounded-full">â­ Ù…ÙØ¶Ù„'),Re=$('<span class="bg-purple-500/20 text-purple-400 text-xs px-2 py-0.5 rounded-full">ğŸ“‹ Ù„Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©'),Te=$('<span class="bg-blue-500/20 text-blue-400 text-xs px-2 py-0.5 rounded-full">ğŸ“ <!$><!/>'),We=$('<span class="text-emerald-400 text-xs mr-auto"><!$><!/>%'),Ee=$('<div class="flex items-center gap-2 mt-2 flex-wrap"><!$><!/><!$><!/><!$><!/><!$><!/><!$><!/>');const ze=typeof window<"u";function re(e){const t=()=>e.showProgress!==!1,r=()=>e.showFavorite!==!1,a=()=>e.showWatchLater!==!1,[s,h]=p(0),[b,d]=p(!1),[o,v]=p(!1),[_,x]=p(!1),[w,P]=p(!1);return Z(async()=>{if(ze){const u=await ke(e.videoId);h(u.progress.watchedPercentage),d(u.progress.completed),v(u.notes.length>0),x(await Ve(e.videoId)),P(await Me(e.videoId))}}),[i(S,{get when(){return B(()=>!!t())()&&s()>0},get children(){var u=c(De),y=u.firstChild;return R(f=>{var I=`h-full transition-all rounded-full ${b()?"bg-green-500":"bg-amber-500"}`,L=`${s()}%`;return I!==f.e&&ee(y,f.e=I),L!==f.t&&_e(y,"width",f.t=L),f},{e:void 0,t:void 0}),u}}),(()=>{var u=c(Ee),y=u.firstChild,[f,I]=g(y.nextSibling),L=f.nextSibling,[F,T]=g(L.nextSibling),W=F.nextSibling,[A,E]=g(W.nextSibling),z=A.nextSibling,[k,G]=g(z.nextSibling),N=k.nextSibling,[M,D]=g(N.nextSibling);return l(u,i(S,{get when(){return B(()=>!!t())()&&b()},get children(){return c(Qe)}}),f,I),l(u,i(S,{get when(){return B(()=>!!r())()&&_()},get children(){return c(je)}}),F,T),l(u,i(S,{get when(){return B(()=>!!a())()&&w()},get children(){return c(Re)}}),A,E),l(u,i(S,{get when(){return o()},get children(){var C=c(Te),n=C.firstChild,m=n.nextSibling,[V,H]=g(m.nextSibling);return l(C,()=>s()>0?"":"Ù…Ù„Ø§Ø­Ø¸Ø§Øª",V,H),C}}),k,G),l(u,i(S,{get when(){return B(()=>!!(t()&&s()>0))()&&!b()},get children(){var C=c(We),n=C.firstChild,[m,V]=g(n.nextSibling);return m.nextSibling,l(C,()=>Math.round(s()),m,V),C}}),M,D),u})()]}function le(e){if(!e)return"";const t=e.match(/PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?/);if(!t)return e;const r=t[1]?parseInt(t[1]):0,a=t[2]?parseInt(t[2]):0,s=t[3]?parseInt(t[3]):0;return r>0?`${r}:${a.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`:`${a}:${s.toString().padStart(2,"0")}`}function ae(e){return new Date(e).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"})}var ne=$('<span class="absolute bottom-2 left-2 bg-black/80 text-white text-xs px-2 py-1 rounded">'),Ge=$('<div class=relative><img class="w-full aspect-video object-cover"><div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"><div class="bg-amber-500 rounded-full p-4"><svg class="w-8 h-8 text-emerald-950"fill=currentColor viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg></div></div><!$><!/>'),He=$('<div class=p-4><h3 class="font-bold text-emerald-50 line-clamp-2 mb-2 group-hover:text-amber-400 transition-colors"></h3><div class="flex justify-between items-center text-sm text-emerald-400"><span></span></div><!$><!/>'),qe=$('<div class="relative shrink-0"><img class="w-48 h-28 object-cover rounded-lg"><!$><!/>'),Je=$('<p class="text-emerald-400 text-sm mb-2">'),Ke=$('<div class="flex-1 min-w-0"><h3 class="font-bold text-emerald-50 line-clamp-2 mb-2 hover:text-amber-400 transition-colors"></h3><!$><!/><div class="flex flex-wrap gap-3 text-sm text-emerald-300"><span>ğŸ“… <!$><!/></span></div><!$><!/>');function Oe(e){return e.viewMode==="list"?i(Xe,{get video(){return e.video},get showProgress(){return e.showProgress}}):i(Ue,{get video(){return e.video},get showProgress(){return e.showProgress}})}function Ue(e){const t=()=>e.video;return i(te,{to:"/study/$id",get params(){return{id:t().id}},class:"group bg-emerald-900/50 rounded-xl overflow-hidden border border-emerald-700/50 hover:border-amber-500/50 cursor-pointer transition-all duration-300 hover:transform hover:scale-[1.02] hover:shadow-xl hover:shadow-amber-500/10",get children(){return[(()=>{var r=c(Ge),a=r.firstChild,s=a.nextSibling,h=s.nextSibling,[b,d]=g(h.nextSibling);return l(r,i(S,{get when(){return t().duration},get children(){var o=c(ne);return l(o,()=>le(t().duration)),o}}),b,d),R(o=>{var v=t().thumbnail,_=t().title;return v!==o.e&&j(a,"src",o.e=v),_!==o.t&&j(a,"alt",o.t=_),o},{e:void 0,t:void 0}),r})(),(()=>{var r=c(He),a=r.firstChild,s=a.nextSibling,h=s.firstChild,b=s.nextSibling,[d,o]=g(b.nextSibling);return l(a,()=>t().title),l(h,()=>ae(t().publishedAt)),l(r,i(S,{get when(){return e.showProgress},get children(){return i(re,{get videoId(){return t().id},showProgress:!0,showFavorite:!0,showWatchLater:!0})}}),d,o),r})()]}})}function Xe(e){const t=()=>e.video;return i(te,{to:"/study/$id",get params(){return{id:t().id}},class:"flex gap-4 bg-emerald-900/50 rounded-xl p-4 border border-emerald-700/50 hover:border-amber-500/50 cursor-pointer transition-all duration-300 hover:bg-emerald-900/70",get children(){return[(()=>{var r=c(qe),a=r.firstChild,s=a.nextSibling,[h,b]=g(s.nextSibling);return l(r,i(S,{get when(){return t().duration},get children(){var d=c(ne);return l(d,()=>le(t().duration)),d}}),h,b),R(d=>{var o=t().thumbnail,v=t().title;return o!==d.e&&j(a,"src",d.e=o),v!==d.t&&j(a,"alt",d.t=v),d},{e:void 0,t:void 0}),r})(),(()=>{var r=c(Ke),a=r.firstChild,s=a.nextSibling,[h,b]=g(s.nextSibling),d=h.nextSibling,o=d.firstChild,v=o.firstChild,_=v.nextSibling,[x,w]=g(_.nextSibling),P=d.nextSibling,[u,y]=g(P.nextSibling);return l(a,()=>t().title),l(r,i(S,{get when(){return t().playlistName},get children(){var f=c(Je);return l(f,()=>t().playlistName),f}}),h,b),l(o,()=>ae(t().publishedAt),x,w),l(r,i(S,{get when(){return e.showProgress},get children(){return i(re,{get videoId(){return t().id},showProgress:!0,showFavorite:!0,showWatchLater:!0})}}),u,y),r})()]}})}var Y=$("<div>"),Ye=$("<div class=mt-8>"),Ze=$('<div class="text-center py-12"><p class="text-emerald-400 text-lg">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¯Ø±ÙˆØ³ Ù…ØªØ§Ø­Ø©');function et(e){return(()=>{var t=c(Y);return l(t,i(S,{get when(){return e.videos.length>0},get fallback(){return c(Ze)},get children(){return[(()=>{var r=c(Y);return l(r,i(fe,{get each(){return e.videos},children:a=>i(Oe,{video:a,get viewMode(){return e.viewMode},get showProgress(){return e.mounted}})})),R(()=>ee(r,e.viewMode==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6":"flex flex-col gap-4")),r})(),i(S,{get when(){return e.totalPages>1},get children(){var r=c(Ye);return l(r,i(Se,{get currentPage(){return e.currentPage},get totalPages(){return e.totalPages},get onPageChange(){return e.onPageChange}})),r}})]}})),t})()}var tt=$(`<style>
      .custom-scrollbar {
        scrollbar-width: thin;
        scrollbar-color: #d97706 rgba(4, 120, 87, 0.2);
        scroll-behavior: smooth;
      }
      .custom-scrollbar::-webkit-scrollbar {
        width: 8px;
      }
      .custom-scrollbar::-webkit-scrollbar-track {
        background: rgba(4, 120, 87, 0.2);
        border-radius: 4px;
        margin: 4px;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb {
        background: linear-gradient(180deg, #d97706 0%, #b45309 100%);
        border-radius: 4px;
        border: 2px solid transparent;
        background-clip: padding-box;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(180deg, #f59e0b 0%, #d97706 100%);
        background-clip: padding-box;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb:active {
        background: #f59e0b;
      }
    `);function rt(){return c(tt)}var lt=$('<div class="min-h-screen bg-emerald-950 text-emerald-50"><!$><!/><main class="container mx-auto px-4 py-8"><div class="flex flex-col lg:flex-row gap-8"><!$><!/><div class="flex-1 order-1 lg:order-2"><!$><!/><!$><!/></div></div></main><!$><!/>');function st(){const e=J.useLoaderData(),t=J.useSearch(),r=ye({from:J.fullPath}),[a,s]=p(""),[h,b]=p(null),[d,o]=p(!1),[v,_]=p(1);let x=null;const w=async(n,m=1)=>{if(!n.trim()){b(null);return}o(!0);try{const V=await Pe(n,{page:m,pageSize:24,category:P(),playlistId:u()||void 0});b(V)}finally{o(!1)}};we(()=>{const n=a();if(x&&clearTimeout(x),_(1),!n.trim()){b(null);return}x=setTimeout(()=>w(n,1),300)}),pe(()=>{x&&clearTimeout(x)});const P=()=>t().category??"all",u=()=>t().playlist??null,y=()=>t().view??"grid",f=()=>t().sort??"date",I=()=>t().page??1,L=n=>r({search:m=>({...m,category:n==="all"?void 0:n,playlist:void 0,page:void 0}),replace:!0}),F=n=>r({search:m=>({...m,playlist:n||void 0,page:void 0}),replace:!0}),T=n=>r({search:m=>({...m,view:n==="grid"?void 0:n}),replace:!0}),W=n=>r({search:m=>({...m,sort:n==="date"?void 0:n,page:void 0}),replace:!0}),A=n=>r({search:m=>({...m,page:n<=1?void 0:n}),replace:!0}),[E,z]=p(!1);Z(()=>z(!0));const{index:k,videos:G}=e(),N=()=>a().trim().length>0,M=()=>N()&&h()?h():G,D=()=>N()?v():I(),C=n=>{N()?(_(n),w(a(),n)):A(n)};return(()=>{var n=c(lt),m=n.firstChild,[V,H]=g(m.nextSibling),K=V.nextSibling,O=K.firstChild,ie=O.firstChild,[U,se]=g(ie.nextSibling),q=U.nextSibling,oe=q.firstChild,[X,de]=g(oe.nextSibling),ce=X.nextSibling,[ge,ue]=g(ce.nextSibling),be=K.nextSibling,[$e,he]=g(be.nextSibling);return l(n,i(Ne,{title:"Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ù…Ø±Ø¦ÙŠØ©",description:"Ù‚Ù†Ø§Ø© Ø¯. ÙŠØ³Ø±ÙŠ Ø¬Ø¨Ø± Ø¹Ù„Ù‰ Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨",get stats(){return{totalVideos:k.stats.totalVideos,totalPlaylists:k.stats.totalPlaylists,categoriesCount:k.stats.categoriesCount}},get searchQuery(){return a()},onSearchChange:s}),V,H),l(O,i(Ae,{get categories(){return k.categories},get playlists(){return k.playlists},get selectedCategory(){return P()},get selectedPlaylist(){return u()},onCategoryClick:Q=>{L(Q),F(null)},onPlaylistClick:Q=>F(Q===u()?null:Q),onClearPlaylistSelection:()=>F(null)}),U,se),l(q,i(Ce,{get totalVideos(){return M().total},get currentPage(){return D()},get totalPages(){return M().totalPages},get searchQuery(){return a()},videosPerPage:24,get sortBy(){return f()},get viewMode(){return y()},onSortChange:W,onViewModeChange:T,get isSearching(){return d()}}),X,de),l(q,i(et,{get videos(){return M().items},get viewMode(){return y()},get totalVideos(){return M().total},get currentPage(){return D()},get totalPages(){return M().totalPages},videosPerPage:24,get mounted(){return E()},onPageChange:C}),ge,ue),l(n,i(rt,{}),$e,he),n})()}export{st as component};
