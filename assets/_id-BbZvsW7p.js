import{j as h,x as Gt,o as xt,q as al,g as c,t as g,a,i as r,c as x,S as y,r as M,h as sl,F as nt,y as ve,b as T,d as oe,n as Ze,s as de,f as ol,e as wt,v as qt,z as dl,L as ht,A as cl}from"./main-Dql0iJJ5.js";import{l as ul,s as ml,g as gl,a as Ot}from"./video-data-COC3ve_A.js";import{i as el,j as _t,g as tl,e as bl,h as xl,r as vl,k as fl,d as pl,l as $l}from"./watch-later-DSiUGnA7.js";import{u as hl,s as _l}from"./sessions-Bb6HWGp4.js";async function wl(){if(!el)return _t();try{return await tl().settings.get("main")||_t()}catch{return _t()}}async function yl(t){if(el)try{const d=tl(),i=await d.settings.get("main")||_t();await d.settings.put({...i,...t,id:"main"})}catch(d){console.error("Error updating settings:",d)}}var kl=g('<button class="px-3 py-2 bg-red-600/20 text-red-400 rounded-lg text-sm hover:bg-red-600/30">Ø¥Ù„ØºØ§Ø¡'),Sl=g('<button class="px-4 py-2 bg-emerald-700 hover:bg-emerald-600 text-emerald-50 rounded-lg text-sm transition-colors"title="ØªØµØ¯ÙŠØ± Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª">ğŸ“¤'),Cl=g('<select class="px-2 py-1 bg-emerald-900/50 border border-emerald-600 rounded text-emerald-50 text-xs focus:outline-none"><option value=all>ÙƒÙ„ Ø§Ù„ÙˆØ³ÙˆÙ…</option><!$><!/>'),Tl=g('<div class="bg-emerald-800/20 rounded-lg p-3 flex flex-wrap gap-2 items-center"><span class="text-xs text-emerald-400">ØªØµÙÙŠØ©:</span><select class="px-2 py-1 bg-emerald-900/50 border border-emerald-600 rounded text-emerald-50 text-xs focus:outline-none"><option value=all>ÙƒÙ„ Ø§Ù„Ø£Ù‡Ù…ÙŠØ©</option><option value=high>Ù…Ù‡Ù… Ø¬Ø¯Ø§Ù‹</option><option value=medium>Ù…ØªÙˆØ³Ø·</option><option value=low>Ù…Ù†Ø®ÙØ¶</option><option value=none>Ø¨Ø¯ÙˆÙ†</option></select><!$><!/><span class="text-xs text-emerald-500 mr-auto"><!$><!/> / <!$><!/> Ù…Ù„Ø§Ø­Ø¸Ø©'),Il=g('<div class="text-center py-8 text-emerald-400"><div class="text-4xl mb-2">ğŸ”</div><p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª ØªØ·Ø§Ø¨Ù‚ Ø§Ù„ÙÙ„ØªØ±</p><button class="text-sm text-amber-400 hover:text-amber-300 mt-2">Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ÙÙ„ØªØ±'),Ml=g('<div class="text-center py-8 text-emerald-400"><div class="text-4xl mb-2">ğŸ“</div><p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¨Ø¹Ø¯</p><p class="text-sm text-emerald-500">Ø§Ø¨Ø¯Ø£ Ø¨ØªØ¯ÙˆÙŠÙ† Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙƒ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©'),Pl=g('<div class=space-y-4><div class="bg-emerald-800/30 rounded-xl p-4 space-y-3"><div class="flex gap-2"><input type=text placeholder="Ø§Ù„ØªÙˆÙ‚ÙŠØª (Ù…Ø«Ù„: 05:30)"class="flex-1 px-3 py-2 bg-emerald-900/50 border border-emerald-600 rounded-lg text-emerald-50 placeholder-emerald-500 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"><button><svg class="w-4 h-4"fill=currentColor viewBox="0 0 24 24"><circle cx=12 cy=12 r=10 fill=none stroke=currentColor stroke-width=2></circle><circle cx=12 cy=12 r=4></circle></svg>Ø§Ù„ØªÙ‚Ø§Ø·</button><!$><!/></div><textarea placeholder="Ø§ÙƒØªØ¨ Ù…Ù„Ø§Ø­Ø¸ØªÙƒ Ù‡Ù†Ø§..."class="w-full px-3 py-2 bg-emerald-900/50 border border-emerald-600 rounded-lg text-emerald-50 placeholder-emerald-500 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500 resize-none"rows=3></textarea><div class="flex gap-2"><div class=flex-1><label class="block text-xs text-emerald-400 mb-1">Ø§Ù„Ø£Ù‡Ù…ÙŠØ©</label><select class="w-full px-3 py-2 bg-emerald-900/50 border border-emerald-600 rounded-lg text-emerald-50 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"><option value=none>Ø¨Ø¯ÙˆÙ†</option><option value=low>Ù…Ù†Ø®ÙØ¶</option><option value=medium>Ù…ØªÙˆØ³Ø·</option><option value=high>Ù…Ù‡Ù… Ø¬Ø¯Ø§Ù‹</option></select></div><div class=flex-1><label class="block text-xs text-emerald-400 mb-1">Ø§Ù„ÙˆØ³ÙˆÙ… (Ù…ÙØµÙˆÙ„Ø© Ø¨ÙØ§ØµÙ„Ø©)</label><input type=text placeholder="Ø¹Ù‚ÙŠØ¯Ø©, ÙÙ‚Ù‡, ØªÙØ³ÙŠØ±..."class="w-full px-3 py-2 bg-emerald-900/50 border border-emerald-600 rounded-lg text-emerald-50 placeholder-emerald-500 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"></div></div><div class="flex gap-2"><button class="flex-1 px-4 py-2 bg-amber-500 hover:bg-amber-600 text-emerald-950 rounded-lg font-medium text-sm transition-colors"></button><!$><!/></div></div><!$><!/><div class=space-y-3><!$><!/><!$><!/><!$><!/>'),Ll=g('<div class="text-center py-8 text-emerald-400"><div class="text-4xl mb-2">ğŸ”–</div><p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù„Ø§Ù…Ø§Øª Ù…Ø±Ø¬Ø¹ÙŠØ©</p><p class="text-sm text-emerald-500">Ø£Ø¶Ù Ø¹Ù„Ø§Ù…Ø§Øª Ù„Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…Ù‡Ù…Ø© ÙÙŠ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ'),jl=g('<div class=space-y-4><div class="bg-emerald-800/30 rounded-xl p-4 space-y-3"><div class="flex gap-2"><input type=text placeholder="Ø§Ù„ØªÙˆÙ‚ÙŠØª (Ù…Ø«Ù„: 10:45)"class="flex-1 px-3 py-2 bg-emerald-900/50 border border-emerald-600 rounded-lg text-emerald-50 placeholder-emerald-500 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"><button><svg class="w-4 h-4"fill=currentColor viewBox="0 0 24 24"><circle cx=12 cy=12 r=10 fill=none stroke=currentColor stroke-width=2></circle><circle cx=12 cy=12 r=4></circle></svg>Ø§Ù„ØªÙ‚Ø§Ø·</button></div><input type=text placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ù„Ø§Ù…Ø©..."class="w-full px-3 py-2 bg-emerald-900/50 border border-emerald-600 rounded-lg text-emerald-50 placeholder-emerald-500 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"><button class="w-full px-4 py-2 bg-amber-500 hover:bg-amber-600 text-emerald-950 rounded-lg font-medium text-sm transition-colors">ğŸ”– Ø¥Ø¶Ø§ÙØ© Ø¹Ù„Ø§Ù…Ø© Ù…Ø±Ø¬Ø¹ÙŠØ©</button></div><div class=space-y-2><!$><!/><!$><!/>'),Nl=g('<div class=space-y-6><div class="bg-emerald-800/30 rounded-xl p-4"><div class="flex items-center justify-between mb-2"><span class="text-emerald-200 font-medium flex items-center gap-2"><span class="w-2 h-2 bg-red-500 rounded-full animate-pulse"></span>Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ</span><span class="text-amber-400 font-mono text-lg font-bold"><!$><!/> / <!$><!/></span></div><p class="text-emerald-500 text-xs">âœ¨ ÙŠØªÙ… Ø­ÙØ¸ Ù…ÙˆÙ‚Ø¹Ùƒ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ â€¢ Ø³ØªØ³ØªØ£Ù†Ù Ù…Ù† Ù‡Ù†Ø§ Ø¹Ù†Ø¯ Ø§Ù„Ø¹ÙˆØ¯Ø©</p></div><div class="bg-emerald-800/30 rounded-xl p-4"><div class="flex items-center justify-between mb-4"><span class="text-emerald-200 font-medium">Ø­Ø§Ù„Ø© Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„</span><button></button></div></div><div class="bg-emerald-800/30 rounded-xl p-4"><div class="flex items-center justify-between mb-3"><span class="text-emerald-200 font-medium">Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©</span><span class="text-amber-400 font-bold"><!$><!/>%</span></div><div class=relative><div class="w-full h-3 bg-emerald-700 rounded-lg overflow-hidden"><div class="h-full bg-gradient-to-r from-amber-500 to-amber-400 transition-all duration-300"></div></div></div><p class="text-emerald-500 text-xs mt-2">ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø³Ø¨Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©</p></div><div class="bg-emerald-800/30 rounded-xl p-4"><span class="text-emerald-200 font-medium block mb-3">ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¯Ø±Ø³</span><div class="flex justify-center gap-2"></div></div><div class="bg-emerald-800/30 rounded-xl p-4"><div class="flex items-center justify-between"><span class="text-emerald-200 font-medium">Ø¢Ø®Ø± Ù…Ø´Ø§Ù‡Ø¯Ø©</span><span class="text-emerald-400 text-sm"></span></div></div><div class="grid grid-cols-2 gap-3"><div class="bg-emerald-800/30 rounded-xl p-4 text-center"><div class="text-2xl font-bold text-amber-400"></div><div class="text-sm text-emerald-400">Ù…Ù„Ø§Ø­Ø¸Ø©</div></div><div class="bg-emerald-800/30 rounded-xl p-4 text-center"><div class="text-2xl font-bold text-amber-400"></div><div class="text-sm text-emerald-400">Ø¹Ù„Ø§Ù…Ø©'),El=g(`<div class="bg-emerald-900/50 rounded-2xl border border-emerald-700/50 sticky top-24"><div class="p-4 border-b border-emerald-700/50"><h2 class="text-xl font-bold text-amber-400 flex items-center gap-2"><svg class="w-6 h-6"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø¯Ø±Ø§Ø³Ø©</h2></div><div class="flex border-b border-emerald-700/50"><button>ğŸ“ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª (<!$><!/>)</button><button>ğŸ”– Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª (<!$><!/>)</button><button>ğŸ“Š Ø§Ù„ØªÙ‚Ø¯Ù…</button></div><div class="p-4 max-h-[60vh] overflow-y-auto custom-scrollbar"><!$><!/><!$><!/><!$><!/></div><style>
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: rgba(4, 120, 87, 0.2);
          border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #d97706;
          border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #f59e0b;
        }
      `),Bl=g("<option>"),Dl=g("<span>"),Vl=g('<div class="flex flex-wrap gap-1 mt-2">'),Al=g('<div><div class="flex items-start justify-between gap-2 mb-2"><div class="flex items-center gap-2"><button class="text-amber-400 font-mono text-sm bg-amber-500/10 px-2 py-1 rounded hover:bg-amber-500/20 transition-colors"title="Ø§Ø¶ØºØ· Ù„Ù„Ø§Ù†ØªÙ‚Ø§Ù„ â€¢ ÙƒÙ„ÙŠÙƒ ÙŠÙ…ÙŠÙ† Ù„Ù„Ù†Ø³Ø®">â–¶ï¸ <!$><!/></button><!$><!/></div><div class="flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity"><button class="p-1 text-emerald-400 hover:text-amber-400 transition-colors"title=ØªØ¹Ø¯ÙŠÙ„><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button><button class="p-1 text-emerald-400 hover:text-red-400 transition-colors"title=Ø­Ø°Ù><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div><p class="text-emerald-200 text-sm whitespace-pre-wrap"></p><!$><!/>'),Rl=g('<span class="text-xs px-2 py-0.5 bg-emerald-700/50 text-emerald-300 rounded-full cursor-pointer hover:bg-emerald-600/50">#<!$><!/>'),Yl=g('<div class="flex items-center gap-3 bg-emerald-800/20 rounded-lg p-3 border border-emerald-700/30 group"><button class="text-amber-400 font-mono text-sm bg-amber-500/10 px-2 py-1 rounded hover:bg-amber-500/20 transition-colors shrink-0"title="Ø§Ø¶ØºØ· Ù„Ù„Ø§Ù†ØªÙ‚Ø§Ù„ â€¢ ÙƒÙ„ÙŠÙƒ ÙŠÙ…ÙŠÙ† Ù„Ù„Ù†Ø³Ø®">â–¶ï¸ <!$><!/></button><span class="text-emerald-200 text-sm flex-1"></span><button class="p-1 text-emerald-400 hover:text-red-400 transition-colors opacity-0 group-hover:opacity-100"title=Ø­Ø°Ù><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12">'),zl=g("<button>â˜…");function Jt(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}function Fl(t){return t||"00:00"}function Hl(t){return{notes:[],bookmarks:[],progress:{videoId:t,completed:!1,lastWatched:new Date().toISOString(),watchedPercentage:0,rating:0}}}function Ul(t){const[d,i]=h("notes"),[o,$]=h([]),[u,P]=h([]),[e,b]=h(Hl(t.video.id).progress),[l,R]=h(!1),[p,Y]=h(!1),[q,ce]=h(""),[L,U]=h(""),[ue,N]=h(null),[E,me]=h("none"),[ke,Se]=h(""),[Pe,fe]=h("all"),[Z,Ce]=h("all"),[k,D]=h(""),[G,Be]=h(""),[He,Ue]=h("00:00"),[pe,Le]=h("00:00"),$e=n=>{const s=Math.floor(n/3600),f=Math.floor(n%3600/60),w=Math.floor(n%60);return s>0?`${s}:${f.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}`:`${f}:${w.toString().padStart(2,"0")}`},We=()=>typeof window<"u"&&window.getYouTubeTimestamp?window.getYouTubeTimestamp():"00:00",Qe=()=>{const n=We();U(n)},S=()=>{const n=We();Be(n)},W=Gt(()=>{const n=new Set;return o().forEach(s=>{s.tags?.forEach(f=>n.add(f))}),Array.from(n).sort()}),F=Gt(()=>{let n=o();return Pe()!=="all"&&(n=n.filter(s=>(s.importance||"none")===Pe())),Z()!=="all"&&(n=n.filter(s=>s.tags?.includes(Z()))),n.sort((s,f)=>{const w=s.timestamp.split(":").reduce((ne,v,j,C)=>ne+parseInt(v)*Math.pow(60,C.length-1-j),0),re=f.timestamp.split(":").reduce((ne,v,j,C)=>ne+parseInt(v)*Math.pow(60,C.length-1-j),0);return w-re})}),ee=n=>{switch(n){case"high":return{color:"text-red-400",bg:"bg-red-500/20",label:"Ù…Ù‡Ù… Ø¬Ø¯Ø§Ù‹"};case"medium":return{color:"text-amber-400",bg:"bg-amber-500/20",label:"Ù…ØªÙˆØ³Ø·"};case"low":return{color:"text-emerald-400",bg:"bg-emerald-500/20",label:"Ù…Ù†Ø®ÙØ¶"};default:return{color:"text-emerald-300",bg:"",label:""}}};xt(async()=>{const n=await ul(t.video.id);$(n.notes.map(v=>({id:v.id,timestamp:v.timestamp,content:v.content,createdAt:v.createdAt,importance:v.importance,tags:v.tags}))),P(n.bookmarks),b(n.progress),Y(!0);const s={...n.progress,lastWatched:new Date().toISOString()};b(s);const f=()=>{if(R(!0),window.getYouTubeProgress){const v=window.getYouTubeProgress();v.duration>0&&Le($e(v.duration))}},w=v=>{const{currentTime:j,duration:C,percentage:B}=v.detail;Ue($e(j)),C>0&&Le($e(C)),b(we=>({...we,watchedPercentage:Math.max(we.watchedPercentage,B),lastWatched:new Date().toISOString()}))},re=()=>{b(v=>({...v,completed:!0,watchedPercentage:100,lastWatched:new Date().toISOString()}))};window.addEventListener("youtubePlayerReady",f),window.addEventListener("youtubeProgressUpdate",w),window.addEventListener("youtubeVideoEnded",re),window.getYouTubeTimestamp&&R(!0);const ne=setInterval(()=>{if(window.getYouTubeProgress){const v=window.getYouTubeProgress();Ue($e(v.currentTime)),v.duration>0&&Le($e(v.duration))}},1e3);return()=>{window.removeEventListener("youtubePlayerReady",f),window.removeEventListener("youtubeProgressUpdate",w),window.removeEventListener("youtubeVideoEnded",re),clearInterval(ne)}});const te=async()=>{p()&&await ml(t.video.id,{notes:o().map(n=>({...n,videoId:t.video.id})),bookmarks:u().map(n=>({...n,videoId:t.video.id})),progress:e()})};al(()=>{o(),u(),e(),p()&&te()});const he=()=>{const n=q().trim();if(!n)return;const s=ke().trim()?ke().split(",").map(w=>w.trim()).filter(w=>w):[],f={id:Jt(),timestamp:L()||"00:00",content:n,createdAt:new Date().toISOString(),importance:E(),tags:s.length>0?s:void 0};$([...o(),f]),ce(""),U(""),me("none"),Se("")},Te=n=>{$(o().filter(s=>s.id!==n))},Ke=n=>{N(n.id),ce(n.content),U(n.timestamp),me(n.importance||"none"),Se(n.tags?.join(", ")||"")},Xe=()=>{const n=ue();if(!n)return;const s=ke().trim()?ke().split(",").map(f=>f.trim()).filter(f=>f):[];$(o().map(f=>f.id===n?{...f,content:q(),timestamp:L(),importance:E(),tags:s.length>0?s:void 0}:f)),N(null),ce(""),U(""),me("none"),Se("")},it=()=>{N(null),ce(""),U(""),me("none"),Se("")},at=()=>{const n=k().trim(),s=G().trim();if(!n||!s)return;const f={id:Jt(),timestamp:s,label:n,createdAt:new Date().toISOString()};P([...u(),f]),D(""),Be("")},st=n=>{P(u().filter(s=>s.id!==n))},V=()=>{b(n=>({...n,completed:!n.completed}))},je=n=>{b(s=>({...s,rating:n}))},_e=()=>{const n=o();if(n.length===0)return;let s=`Ù…Ù„Ø§Ø­Ø¸Ø§Øª: ${t.video.title}
`;s+=`${"=".repeat(50)}

`,n.forEach((ne,v)=>{s+=`[${ne.timestamp}] Ù…Ù„Ø§Ø­Ø¸Ø© ${v+1}:
`,s+=`${ne.content}

`});const f=new Blob([s],{type:"text/plain;charset=utf-8"}),w=URL.createObjectURL(f),re=document.createElement("a");re.href=w,re.download=`notes-${t.video.id}.txt`,re.click(),URL.revokeObjectURL(w)},le=n=>{const s=n.split(":").map(Number);let f=0;s.length===3?f=s[0]*3600+s[1]*60+s[2]:s.length===2?f=s[0]*60+s[1]:f=s[0]||0;const w=`https://www.youtube.com/watch?v=${t.video.id}&t=${f}s`;navigator.clipboard.writeText(w)},ge=n=>{const s=n.split(":").map(Number);let f=0;s.length===3?f=s[0]*3600+s[1]*60+s[2]:s.length===2?f=s[0]*60+s[1]:f=s[0]||0,typeof window<"u"&&window.seekYouTubeTo?window.seekYouTubeTo(f):typeof window<"u"&&window.youtubePlayer&&typeof window.youtubePlayer.seekTo=="function"&&window.youtubePlayer.seekTo(f,!0)};return(()=>{var n=c(El),s=n.firstChild,f=s.nextSibling,w=f.firstChild,re=w.firstChild,ne=re.nextSibling,[v,j]=a(ne.nextSibling);v.nextSibling;var C=w.nextSibling,B=C.firstChild,we=B.nextSibling,[J,yt]=a(we.nextSibling);J.nextSibling;var ot=C.nextSibling,et=f.nextSibling,kt=et.firstChild,[dt,St]=a(kt.nextSibling),Ct=dt.nextSibling,[ct,Tt]=a(Ct.nextSibling),It=ct.nextSibling,[Mt,Pt]=a(It.nextSibling);return w.$$click=()=>i("notes"),r(w,()=>o().length,v,j),C.$$click=()=>i("bookmarks"),r(C,()=>u().length,J,yt),ot.$$click=()=>i("progress"),r(et,x(y,{get when(){return d()==="notes"},get children(){var A=c(Pl),ie=A.firstChild,be=ie.firstChild,ae=be.firstChild,K=ae.nextSibling,De=K.nextSibling,[Ve,Ae]=a(De.nextSibling),_=be.nextSibling,Re=_.nextSibling,Oe=Re.firstChild,qe=Oe.firstChild,Ye=qe.nextSibling,Ge=Oe.nextSibling,I=Ge.firstChild,O=I.nextSibling,z=Re.nextSibling,H=z.firstChild,ze=H.nextSibling,[Ne,Fe]=a(ze.nextSibling),Ie=ie.nextSibling,[tt,ut]=a(Ie.nextSibling),lt=tt.nextSibling,Lt=lt.firstChild,[mt,jt]=a(Lt.nextSibling),Nt=mt.nextSibling,[gt,Et]=a(Nt.nextSibling),Bt=gt.nextSibling,[Dt,Vt]=a(Bt.nextSibling);return ae.$$input=m=>U(m.currentTarget.value),K.$$click=Qe,r(be,x(y,{get when(){return ue()},get children(){var m=c(kl);return m.$$click=it,M(),m}}),Ve,Ae),_.$$input=m=>ce(m.currentTarget.value),Ye.addEventListener("change",m=>me(m.currentTarget.value)),O.$$input=m=>Se(m.currentTarget.value),sl(H,"click",ue()?Xe:he,!0),r(H,()=>ue()?"ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„":"â• Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø§Ø­Ø¸Ø©"),r(z,x(y,{get when(){return o().length>0},get children(){var m=c(Sl);return m.$$click=_e,M(),m}}),Ne,Fe),r(A,x(y,{get when(){return o().length>0},get children(){var m=c(Tl),xe=m.firstChild,Q=xe.nextSibling,Me=Q.nextSibling,[X,se]=a(Me.nextSibling),Je=X.nextSibling,At=Je.firstChild,[vt,Rt]=a(At.nextSibling),Yt=vt.nextSibling,zt=Yt.nextSibling,[ft,Ft]=a(zt.nextSibling);return ft.nextSibling,Q.addEventListener("change",Ee=>fe(Ee.currentTarget.value)),r(m,x(y,{get when(){return W().length>0},get children(){var Ee=c(Cl),Ht=Ee.firstChild,pt=Ht.nextSibling,[Ut,Wt]=a(pt.nextSibling);return Ee.addEventListener("change",rt=>Ce(rt.currentTarget.value)),r(Ee,x(nt,{get each(){return W()},children:rt=>(()=>{var ye=c(Bl);return ve(ye,"value",rt),r(ye,rt),ye})()}),Ut,Wt),T(()=>ve(Ee,"value",Z())),Ee}}),X,se),r(Je,()=>F().length,vt,Rt),r(Je,()=>o().length,ft,Ft),T(()=>ve(Q,"value",Pe())),m}}),tt,ut),r(lt,x(nt,{get each(){return F()},children:m=>{const xe=ee(m.importance||"none");return(()=>{var Q=c(Al),Me=Q.firstChild,X=Me.firstChild,se=X.firstChild,Je=se.firstChild,At=Je.nextSibling,[vt,Rt]=a(At.nextSibling),Yt=se.nextSibling,[zt,ft]=a(Yt.nextSibling),Ft=X.nextSibling,Ee=Ft.firstChild,Ht=Ee.nextSibling,pt=Me.nextSibling,Ut=pt.nextSibling,[Wt,rt]=a(Ut.nextSibling);return se.$$contextmenu=ye=>{ye.preventDefault(),le(m.timestamp)},se.$$click=()=>ge(m.timestamp),r(se,()=>Fl(m.timestamp),vt,Rt),r(X,x(y,{get when(){return Ze(()=>!!m.importance)()&&m.importance!=="none"},get children(){var ye=c(Dl);return r(ye,()=>xe.label),T(()=>oe(ye,`text-xs px-2 py-0.5 rounded ${xe.color} ${xe.bg}`)),ye}}),zt,ft),Ee.$$click=()=>Ke(m),Ht.$$click=()=>Te(m.id),r(pt,()=>m.content),r(Q,x(y,{get when(){return Ze(()=>!!m.tags)()&&m.tags.length>0},get children(){var ye=c(Vl);return r(ye,x(nt,{get each(){return m.tags},children:Kt=>(()=>{var bt=c(Rl),ll=bt.firstChild,rl=ll.nextSibling,[nl,il]=a(rl.nextSibling);return bt.$$click=()=>Ce(Kt),de(bt,"title",`ØªØµÙÙŠØ© Ø­Ø³Ø¨ "${Kt}"`),r(bt,Kt,nl,il),M(),bt})()})),ye}}),Wt,rt),T(()=>oe(Q,`bg-emerald-800/20 rounded-xl p-4 border border-emerald-700/30 group ${m.importance&&m.importance!=="none"?xe.bg:""}`)),M(),Q})()}}),mt,jt),r(lt,x(y,{get when(){return Ze(()=>F().length===0)()&&o().length>0},get children(){var m=c(Il),xe=m.firstChild,Q=xe.nextSibling,Me=Q.nextSibling;return Me.$$click=()=>{fe("all"),Ce("all")},M(),m}}),gt,Et),r(lt,x(y,{get when(){return o().length===0},get children(){return c(Ml)}}),Dt,Vt),T(m=>{var xe=`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-1 ${l()?"bg-red-500 hover:bg-red-600 text-white":"bg-emerald-700/50 text-emerald-400 cursor-not-allowed"}`,Q=!l(),Me=l()?"Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø­Ø§Ù„ÙŠ":"Ø§Ù†ØªØ¸Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø´ØºÙ„";return xe!==m.e&&oe(K,m.e=xe),Q!==m.t&&ve(K,"disabled",m.t=Q),Me!==m.a&&de(K,"title",m.a=Me),m},{e:void 0,t:void 0,a:void 0}),T(()=>ve(ae,"value",L())),T(()=>ve(_,"value",q())),T(()=>ve(Ye,"value",E())),T(()=>ve(O,"value",ke())),M(),A}}),dt,St),r(et,x(y,{get when(){return d()==="bookmarks"},get children(){var A=c(jl),ie=A.firstChild,be=ie.firstChild,ae=be.firstChild,K=ae.nextSibling,De=be.nextSibling,Ve=De.nextSibling,Ae=ie.nextSibling,_=Ae.firstChild,[Re,Oe]=a(_.nextSibling),qe=Re.nextSibling,[Ye,Ge]=a(qe.nextSibling);return ae.$$input=I=>Be(I.currentTarget.value),K.$$click=S,De.$$input=I=>D(I.currentTarget.value),Ve.$$click=at,r(Ae,x(nt,{get each(){return u().sort((I,O)=>{const z=I.timestamp.split(":").reduce((ze,Ne,Fe,Ie)=>ze+parseInt(Ne)*Math.pow(60,Ie.length-1-Fe),0),H=O.timestamp.split(":").reduce((ze,Ne,Fe,Ie)=>ze+parseInt(Ne)*Math.pow(60,Ie.length-1-Fe),0);return z-H})},children:I=>(()=>{var O=c(Yl),z=O.firstChild,H=z.firstChild,ze=H.nextSibling,[Ne,Fe]=a(ze.nextSibling),Ie=z.nextSibling,tt=Ie.nextSibling;return z.$$contextmenu=ut=>{ut.preventDefault(),le(I.timestamp)},z.$$click=()=>ge(I.timestamp),r(z,()=>I.timestamp,Ne,Fe),r(Ie,()=>I.label),tt.$$click=()=>st(I.id),M(),O})()}),Re,Oe),r(Ae,x(y,{get when(){return u().length===0},get children(){return c(Ll)}}),Ye,Ge),T(I=>{var O=`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-1 ${l()?"bg-red-500 hover:bg-red-600 text-white":"bg-emerald-700/50 text-emerald-400 cursor-not-allowed"}`,z=!l(),H=l()?"Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø­Ø§Ù„ÙŠ":"Ø§Ù†ØªØ¸Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø´ØºÙ„";return O!==I.e&&oe(K,I.e=O),z!==I.t&&ve(K,"disabled",I.t=z),H!==I.a&&de(K,"title",I.a=H),I},{e:void 0,t:void 0,a:void 0}),T(()=>ve(ae,"value",G())),T(()=>ve(De,"value",k())),M(),A}}),ct,Tt),r(et,x(y,{get when(){return d()==="progress"},get children(){var A=c(Nl),ie=A.firstChild,be=ie.firstChild,ae=be.firstChild,K=ae.nextSibling,De=K.firstChild,[Ve,Ae]=a(De.nextSibling),_=Ve.nextSibling,Re=_.nextSibling,[Oe,qe]=a(Re.nextSibling),Ye=ie.nextSibling,Ge=Ye.firstChild,I=Ge.firstChild,O=I.nextSibling,z=Ye.nextSibling,H=z.firstChild,ze=H.firstChild,Ne=ze.nextSibling,Fe=Ne.firstChild,[Ie,tt]=a(Fe.nextSibling);Ie.nextSibling;var ut=H.nextSibling,lt=ut.firstChild,Lt=lt.firstChild,mt=z.nextSibling,jt=mt.firstChild,Nt=jt.nextSibling,gt=mt.nextSibling,Et=gt.firstChild,Bt=Et.firstChild,Dt=Bt.nextSibling,Vt=gt.nextSibling,m=Vt.firstChild,xe=m.firstChild,Q=m.nextSibling,Me=Q.firstChild;return r(K,He,Ve,Ae),r(K,pe,Oe,qe),O.$$click=V,r(O,()=>e().completed?"âœ… Ù…ÙƒØªÙ…Ù„":"â³ Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©"),r(Ne,()=>e().watchedPercentage,Ie,tt),r(Nt,x(nt,{each:[1,2,3,4,5],children:X=>(()=>{var se=c(zl);return se.$$click=()=>je(X),T(()=>oe(se,`text-3xl transition-transform hover:scale-110 ${X<=e().rating?"text-amber-400":"text-emerald-700"}`)),M(),se})()})),r(Dt,()=>new Date(e().lastWatched).toLocaleDateString("ar-EG",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})),r(xe,()=>o().length),r(Me,()=>u().length),T(X=>{var se=`px-4 py-2 rounded-lg font-medium text-sm transition-all ${e().completed?"bg-green-500 text-white":"bg-emerald-700 text-emerald-200 hover:bg-emerald-600"}`,Je=`${e().watchedPercentage}%`;return se!==X.e&&oe(O,X.e=se),Je!==X.t&&ol(Lt,"width",X.t=Je),X},{e:void 0,t:void 0}),M(),A}}),Mt,Pt),T(A=>{var ie=`flex-1 px-4 py-3 text-sm font-medium transition-colors ${d()==="notes"?"text-amber-400 border-b-2 border-amber-400 bg-emerald-800/30":"text-emerald-300 hover:text-emerald-100"}`,be=`flex-1 px-4 py-3 text-sm font-medium transition-colors ${d()==="bookmarks"?"text-amber-400 border-b-2 border-amber-400 bg-emerald-800/30":"text-emerald-300 hover:text-emerald-100"}`,ae=`flex-1 px-4 py-3 text-sm font-medium transition-colors ${d()==="progress"?"text-amber-400 border-b-2 border-amber-400 bg-emerald-800/30":"text-emerald-300 hover:text-emerald-100"}`;return ie!==A.e&&oe(w,A.e=ie),be!==A.t&&oe(C,A.t=be),ae!==A.a&&oe(ot,A.a=ae),A},{e:void 0,t:void 0,a:void 0}),M(),n})()}wt(["click","input","contextmenu"]);var Wl=g('<div class="aspect-video w-full bg-black"><div class="w-full h-full">');const $t=typeof window<"u";function Kl(t){const d=Math.floor(t/3600),i=Math.floor(t%3600/60),o=Math.floor(t%60);return d>0?`${d}:${i.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`:`${i}:${o.toString().padStart(2,"0")}`}function Ol(t){let d,i=null;const o=()=>{if(!$t)return;const e=window;e.getYouTubeTimestamp=()=>{if(i&&typeof i.getCurrentTime=="function"){const b=i.getCurrentTime();return Kl(b)}return"00:00"},e.getYouTubeProgress=()=>{if(i&&typeof i.getCurrentTime=="function"&&typeof i.getDuration=="function"){const b=i.getCurrentTime()||0,l=i.getDuration()||0,R=l>0?Math.round(b/l*100):0;return{currentTime:b,duration:l,percentage:R}}return{currentTime:0,duration:0,percentage:0}},e.seekYouTubeTo=b=>{i&&typeof i.seekTo=="function"&&i.seekTo(b,!0)},e.youtubePlayer=i};let $=null,u=0;const P=async()=>{if(!$t)return;const e=window;if(!e.YT||!e.YT.Player){setTimeout(P,100);return}u=await gl(t.videoId),i=new e.YT.Player(d,{videoId:t.videoId,playerVars:{autoplay:0,modestbranding:1,rel:0,hl:"ar",cc_lang_pref:"ar",start:Math.floor(u)},events:{onReady:()=>{o(),u>0&&i&&typeof i.seekTo=="function"&&i.seekTo(u,!0),$=setInterval(async()=>{if(i&&typeof i.getCurrentTime=="function"&&typeof i.getPlayerState=="function"){const b=i.getPlayerState();if(b===1||b===2){const l=i.getCurrentTime();l>0&&(await Ot(t.videoId,l),window.dispatchEvent(new CustomEvent("youtubeProgressUpdate",{detail:e.getYouTubeProgress?e.getYouTubeProgress():{currentTime:0,duration:0,percentage:0}})))}}},5e3)},onStateChange:async b=>{if((b.data===2||b.data===0)&&i&&typeof i.getCurrentTime=="function"){const l=i.getCurrentTime();await Ot(t.videoId,l),window.dispatchEvent(new CustomEvent("youtubeProgressUpdate",{detail:e.getYouTubeProgress?e.getYouTubeProgress():{currentTime:0,duration:0,percentage:0}}))}b.data===0&&window.dispatchEvent(new CustomEvent("youtubeVideoEnded"))}}})};return xt(()=>{if(!$t)return;const e=window;if(e.YT)P();else{const l=document.createElement("script");l.src="https://www.youtube.com/iframe_api";const R=document.getElementsByTagName("script")[0];R.parentNode?.insertBefore(l,R),e.onYouTubeIframeAPIReady=()=>{P()}}const b=setInterval(()=>{i&&typeof i.getCurrentTime=="function"&&(window.dispatchEvent(new CustomEvent("youtubePlayerReady")),clearInterval(b))},100)}),qt(()=>{if(!$t)return;const e=window;if(i&&typeof i.getCurrentTime=="function"){const b=i.getCurrentTime();b>0&&Ot(t.videoId,b)}$&&(clearInterval($),$=null),i&&typeof i.destroy=="function"&&i.destroy(),e.getYouTubeTimestamp&&delete e.getYouTubeTimestamp,e.youtubePlayer&&delete e.youtubePlayer,e.getYouTubeProgress&&delete e.getYouTubeProgress,e.seekYouTubeTo&&delete e.seekYouTubeTo}),(()=>{var e=c(Wl),b=e.firstChild,l=d;return typeof l=="function"?dl(l,b):d=b,T(()=>de(b,"id",`youtube-player-${t.videoId}`)),e})()}var ql=g('<div class="absolute top-full right-0 mt-2 bg-emerald-800 rounded-xl border border-emerald-700 shadow-xl z-50 overflow-hidden"><div class="p-2 text-emerald-300 text-xs border-b border-emerald-700">Ø§Ø®ØªØ± Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©</div><button class="w-full px-4 py-2 text-right text-red-300 hover:bg-red-500/20 flex items-center gap-2"><span class="w-2 h-2 bg-red-500 rounded-full"></span>Ø¹Ø§Ù„ÙŠ</button><button class="w-full px-4 py-2 text-right text-amber-300 hover:bg-amber-500/20 flex items-center gap-2"><span class="w-2 h-2 bg-amber-500 rounded-full"></span>Ù…ØªÙˆØ³Ø·</button><button class="w-full px-4 py-2 text-right text-emerald-300 hover:bg-emerald-500/20 flex items-center gap-2"><span class="w-2 h-2 bg-emerald-500 rounded-full"></span>Ù…Ù†Ø®ÙØ¶</button><button class="w-full px-4 py-2 text-right text-emerald-400 hover:bg-emerald-700/50 text-sm border-t border-emerald-700">Ø¥Ù„ØºØ§Ø¡'),Gl=g('<div class="absolute top-full right-0 mt-2 bg-emerald-800 rounded-xl border border-emerald-700 shadow-xl z-50 overflow-hidden min-w-[160px]"><button class="w-full px-4 py-3 text-right text-emerald-200 hover:bg-emerald-700/50 flex items-center gap-3"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg><!$><!/></button><button class="w-full px-4 py-3 text-right text-emerald-200 hover:bg-emerald-700/50 flex items-center gap-3"><svg class="w-5 h-5"viewBox="0 0 24 24"fill=currentColor><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"></path></svg>ÙˆØ§ØªØ³Ø§Ø¨</button><button class="w-full px-4 py-3 text-right text-emerald-200 hover:bg-emerald-700/50 flex items-center gap-3"><svg class="w-5 h-5"viewBox="0 0 24 24"fill=currentColor><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg>ØªÙˆÙŠØªØ±</button><button class="w-full px-4 py-3 text-right text-emerald-200 hover:bg-emerald-700/50 flex items-center gap-3"><svg class="w-5 h-5"viewBox="0 0 24 24"fill=currentColor><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"></path></svg>ØªÙŠÙ„ÙŠØºØ±Ø§Ù…'),Jl=g('<div class="flex flex-wrap items-center gap-2"><button><svg stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path></svg><!$><!/></button><div class=relative><button><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><!$><!/></button><!$><!/></div><div class=relative><button class="flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm bg-emerald-800/50 text-emerald-200 hover:bg-emerald-700/50 transition-all"title=Ù…Ø´Ø§Ø±ÙƒØ©><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path></svg>Ù…Ø´Ø§Ø±ÙƒØ©</button><!$><!/></div><a href=/dashboard class="flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm bg-emerald-800/50 text-emerald-200 hover:bg-emerald-700/50 transition-all"title="Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…');const Ql=typeof window<"u";function Xl(t){const[d,i]=h(!1),[o,$]=h(!1),[u,P]=h(!1),[e,b]=h(!1),[l,R]=h(!1);xt(async()=>{Ql&&(i(await bl(t.videoId)),$(await xl(t.videoId)),await hl(),await _l(t.videoId,t.videoTitle))});const p=async()=>{d()?(await vl(t.videoId),i(!1)):(await fl({id:t.videoId,title:t.videoTitle,thumbnail:t.thumbnail}),i(!0))},Y=async()=>{o()?(await pl(t.videoId),$(!1)):P(!0)},q=async N=>{await $l({id:t.videoId,title:t.videoTitle,thumbnail:t.thumbnail},N),$(!0),P(!1)},ce=()=>{const N=`${window.location.origin}/lessons/${t.videoId}`;navigator.clipboard.writeText(N),R(!0),setTimeout(()=>{R(!1),b(!1)},1500)},L=()=>{const N=`${window.location.origin}/lessons/${t.videoId}`,E=`Ø£Ù†ØµØ­ÙƒÙ… Ø¨Ù…Ø´Ø§Ù‡Ø¯Ø©: ${t.videoTitle}`;window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(E)}&url=${encodeURIComponent(N)}`,"_blank"),b(!1)},U=()=>{const N=`${window.location.origin}/lessons/${t.videoId}`,E=`Ø£Ù†ØµØ­ÙƒÙ… Ø¨Ù…Ø´Ø§Ù‡Ø¯Ø©: ${t.videoTitle}
${N}`;window.open(`https://wa.me/?text=${encodeURIComponent(E)}`,"_blank"),b(!1)},ue=()=>{const N=`${window.location.origin}/lessons/${t.videoId}`,E=`Ø£Ù†ØµØ­ÙƒÙ… Ø¨Ù…Ø´Ø§Ù‡Ø¯Ø©: ${t.videoTitle}`;window.open(`https://t.me/share/url?url=${encodeURIComponent(N)}&text=${encodeURIComponent(E)}`,"_blank"),b(!1)};return(()=>{var N=c(Jl),E=N.firstChild,me=E.firstChild,ke=me.nextSibling,[Se,Pe]=a(ke.nextSibling),fe=E.nextSibling,Z=fe.firstChild,Ce=Z.firstChild,k=Ce.nextSibling,[D,G]=a(k.nextSibling),Be=Z.nextSibling,[He,Ue]=a(Be.nextSibling),pe=fe.nextSibling,Le=pe.firstChild,$e=Le.nextSibling,[We,Qe]=a($e.nextSibling);return E.$$click=p,r(E,()=>d()?"Ù…ÙØ¶Ù„":"Ø§Ù„Ù…ÙØ¶Ù„Ø©",Se,Pe),Z.$$click=Y,r(Z,()=>o()?"ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©":"Ø´Ø§Ù‡Ø¯ Ù„Ø§Ø­Ù‚Ø§Ù‹",D,G),r(fe,x(y,{get when(){return u()},get children(){var S=c(ql),W=S.firstChild,F=W.nextSibling,ee=F.nextSibling,te=ee.nextSibling,he=te.nextSibling;return F.$$click=()=>q("high"),ee.$$click=()=>q("medium"),te.$$click=()=>q("low"),he.$$click=()=>P(!1),M(),S}}),He,Ue),Le.$$click=()=>b(!e()),r(pe,x(y,{get when(){return e()},get children(){var S=c(Gl),W=S.firstChild,F=W.firstChild,ee=F.nextSibling,[te,he]=a(ee.nextSibling),Te=W.nextSibling,Ke=Te.nextSibling,Xe=Ke.nextSibling;return W.$$click=ce,r(W,()=>l()?"âœ“ ØªÙ… Ø§Ù„Ù†Ø³Ø®":"Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·",te,he),Te.$$click=U,Ke.$$click=L,Xe.$$click=ue,M(),S}}),We,Qe),T(S=>{var W=`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all ${d()?"bg-amber-500 text-emerald-950":"bg-emerald-800/50 text-emerald-200 hover:bg-emerald-700/50"}`,F=d()?"Ø¥Ø²Ø§Ù„Ø© Ù…Ù† Ø§Ù„Ù…ÙØ¶Ù„Ø©":"Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù…ÙØ¶Ù„Ø©",ee=`w-5 h-5 ${d()?"fill-current":""}`,te=d()?"currentColor":"none",he=`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all ${o()?"bg-purple-500 text-white":"bg-emerald-800/50 text-emerald-200 hover:bg-emerald-700/50"}`,Te=o()?"Ø¥Ø²Ø§Ù„Ø© Ù…Ù† Ø´Ø§Ù‡Ø¯ Ù„Ø§Ø­Ù‚Ø§Ù‹":"Ø´Ø§Ù‡Ø¯ Ù„Ø§Ø­Ù‚Ø§Ù‹";return W!==S.e&&oe(E,S.e=W),F!==S.t&&de(E,"title",S.t=F),ee!==S.a&&de(me,"class",S.a=ee),te!==S.o&&de(me,"fill",S.o=te),he!==S.i&&oe(Z,S.i=he),Te!==S.n&&de(Z,"title",S.n=Te),S},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),M(),N})()}wt(["click"]);var Zl=g("<div>"),er=g('<div><div class="bg-emerald-900 rounded-2xl p-6 max-w-lg w-full mx-4 border border-emerald-700 max-h-[80vh] overflow-y-auto"><div class="flex items-center justify-between mb-6"><h3 class="text-xl font-bold text-amber-400">âŒ¨ï¸ Ø§Ø®ØªØµØ§Ø±Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­</h3><button class="p-2 text-emerald-400 hover:text-white transition-colors"><svg class="w-6 h-6"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12"></path></svg></button></div><div class=space-y-4><div><h4 class="text-emerald-300 font-medium mb-2">Ø§Ù„ØªØ´ØºÙŠÙ„</h4><div class="grid grid-cols-2 gap-2 text-sm"><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>ØªØ´ØºÙŠÙ„/Ø¥ÙŠÙ‚Ø§Ù</span><kbd class="bg-emerald-700 px-2 rounded">Space</kbd></div><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>ØªØ´ØºÙŠÙ„/Ø¥ÙŠÙ‚Ø§Ù</span><kbd class="bg-emerald-700 px-2 rounded">K</kbd></div><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©</span><kbd class="bg-emerald-700 px-2 rounded">F</kbd></div><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>ÙƒØªÙ… Ø§Ù„ØµÙˆØª</span><kbd class="bg-emerald-700 px-2 rounded">M</kbd></div></div></div><div><h4 class="text-emerald-300 font-medium mb-2">Ø§Ù„ØªÙ†Ù‚Ù„</h4><div class="grid grid-cols-2 gap-2 text-sm"><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>-5 Ø«ÙˆØ§Ù†ÙŠ</span><kbd class="bg-emerald-700 px-2 rounded">â†</kbd></div><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>+5 Ø«ÙˆØ§Ù†ÙŠ</span><kbd class="bg-emerald-700 px-2 rounded">â†’</kbd></div><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>-10 Ø«ÙˆØ§Ù†ÙŠ</span><kbd class="bg-emerald-700 px-2 rounded">J</kbd></div><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>+10 Ø«ÙˆØ§Ù†ÙŠ</span><kbd class="bg-emerald-700 px-2 rounded">L</kbd></div><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded col-span-2"><span class=text-emerald-300>Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù†Ø³Ø¨Ø© Ù…Ø¹ÙŠÙ†Ø©</span><kbd class="bg-emerald-700 px-2 rounded">0-9</kbd></div></div></div><div><h4 class="text-emerald-300 font-medium mb-2">Ø§Ù„ØµÙˆØª ÙˆØ§Ù„Ø³Ø±Ø¹Ø©</h4><div class="grid grid-cols-2 gap-2 text-sm"><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>Ø±ÙØ¹ Ø§Ù„ØµÙˆØª</span><kbd class="bg-emerald-700 px-2 rounded">â†‘</kbd></div><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>Ø®ÙØ¶ Ø§Ù„ØµÙˆØª</span><kbd class="bg-emerald-700 px-2 rounded">â†“</kbd></div><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>ØªØ¨Ø·ÙŠØ¡</span><kbd class="bg-emerald-700 px-2 rounded">Shift + &lt;</kbd></div><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>ØªØ³Ø±ÙŠØ¹</span><kbd class="bg-emerald-700 px-2 rounded">Shift + &gt;</kbd></div></div></div><div><h4 class="text-emerald-300 font-medium mb-2">Ø§Ù„Ø¯Ø±Ø§Ø³Ø©</h4><div class="grid grid-cols-2 gap-2 text-sm"><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>Ù…Ù„Ø§Ø­Ø¸Ø© Ø¬Ø¯ÙŠØ¯Ø©</span><kbd class="bg-emerald-700 px-2 rounded">N</kbd></div><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>Ø¹Ù„Ø§Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©</span><kbd class="bg-emerald-700 px-2 rounded">B</kbd></div><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded col-span-2"><span class=text-emerald-300>Ø¹Ø±Ø¶ Ø§Ù„Ø§Ø®ØªØµØ§Ø±Ø§Øª</span><kbd class="bg-emerald-700 px-2 rounded">?</kbd></div></div></div></div><div class="mt-6 pt-4 border-t border-emerald-700"><p class="text-emerald-500 text-sm text-center">Ø§Ø¶ØºØ· <kbd class="bg-emerald-700 px-2 rounded">?</kbd> ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª Ù„Ø¹Ø±Ø¶ Ù‡Ø°Ù‡ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©'),tr=g('<button class="fixed bottom-4 left-4 p-3 bg-emerald-800/80 hover:bg-emerald-700 text-emerald-300 hover:text-white rounded-full transition-colors z-40 shadow-lg"title="Ø§Ø®ØªØµØ§Ø±Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­ (?)"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z">');const Qt=typeof window<"u";function lr(t){const[d,i]=h(!1),[o,$]=h(null),u=e=>{$(e),setTimeout(()=>$(null),1500)},P=e=>{if(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement)return;const l=window.youtubePlayer;switch(e.key.toLowerCase()){case" ":e.preventDefault(),l&&typeof l.getPlayerState=="function"&&(l.getPlayerState()===1?(l.pauseVideo(),u("â¸ï¸ Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª")):(l.playVideo(),u("â–¶ï¸ ØªØ´ØºÙŠÙ„")));break;case"k":e.preventDefault(),l&&typeof l.getPlayerState=="function"&&(l.getPlayerState()===1?(l.pauseVideo(),u("â¸ï¸ Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª")):(l.playVideo(),u("â–¶ï¸ ØªØ´ØºÙŠÙ„")));break;case"arrowleft":if(e.preventDefault(),l&&typeof l.getCurrentTime=="function"){const p=l.getCurrentTime();l.seekTo(Math.max(0,p-5),!0),u("âª -5 Ø«ÙˆØ§Ù†ÙŠ")}break;case"arrowright":if(e.preventDefault(),l&&typeof l.getCurrentTime=="function"){const p=l.getCurrentTime();l.seekTo(p+5,!0),u("â© +5 Ø«ÙˆØ§Ù†ÙŠ")}break;case"j":if(e.preventDefault(),l&&typeof l.getCurrentTime=="function"){const p=l.getCurrentTime();l.seekTo(Math.max(0,p-10),!0),u("âª -10 Ø«ÙˆØ§Ù†ÙŠ")}break;case"l":if(e.preventDefault(),l&&typeof l.getCurrentTime=="function"){const p=l.getCurrentTime();l.seekTo(p+10,!0),u("â© +10 Ø«ÙˆØ§Ù†ÙŠ")}break;case"arrowup":if(e.preventDefault(),l&&typeof l.getVolume=="function"){const p=l.getVolume();l.setVolume(Math.min(100,p+10)),u(`ğŸ”Š ${Math.min(100,p+10)}%`)}break;case"arrowdown":if(e.preventDefault(),l&&typeof l.getVolume=="function"){const p=l.getVolume();l.setVolume(Math.max(0,p-10)),u(`ğŸ”ˆ ${Math.max(0,p-10)}%`)}break;case"m":e.preventDefault(),l&&typeof l.isMuted=="function"&&(l.isMuted()?(l.unMute(),u("ğŸ”Š Ø¥Ù„ØºØ§Ø¡ ÙƒØªÙ… Ø§Ù„ØµÙˆØª")):(l.mute(),u("ğŸ”‡ ÙƒØªÙ… Ø§Ù„ØµÙˆØª")));break;case"f":e.preventDefault();const R=document.querySelector("iframe");R&&(document.fullscreenElement?(document.exitFullscreen(),u("ØªØµØºÙŠØ± Ø§Ù„Ø´Ø§Ø´Ø©")):(R.requestFullscreen(),u("Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©")));break;case"n":if(e.ctrlKey||e.metaKey)return;e.preventDefault(),t.onNewNote&&(t.onNewNote(),u("ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø© Ø¬Ø¯ÙŠØ¯Ø©"));break;case"b":if(e.ctrlKey||e.metaKey)return;e.preventDefault(),t.onNewBookmark&&(t.onNewBookmark(),u("ğŸ”– Ø¹Ù„Ø§Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©"));break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(e.preventDefault(),l&&typeof l.getDuration=="function"){const p=l.getDuration(),Y=parseInt(e.key)*10;l.seekTo(p*Y/100,!0),u(`${Y}%`)}break;case",":if(e.shiftKey&&l&&typeof l.getPlaybackRate=="function"){e.preventDefault();const p=l.getPlaybackRate(),Y=Math.max(.25,p-.25);l.setPlaybackRate(Y),u(`ğŸ¢ ${Y}x`)}break;case".":if(e.shiftKey&&l&&typeof l.getPlaybackRate=="function"){e.preventDefault();const p=l.getPlaybackRate(),Y=Math.min(2,p+.25);l.setPlaybackRate(Y),u(`ğŸ‡ ${Y}x`)}break;case"?":e.preventDefault(),i(!d());break;case"escape":d()&&i(!1);break}};return xt(()=>{Qt&&window.addEventListener("keydown",P)}),qt(()=>{Qt&&window.removeEventListener("keydown",P)}),[(()=>{var e=c(Zl);return r(e,o),T(()=>oe(e,`fixed bottom-8 left-1/2 -translate-x-1/2 px-6 py-3 bg-black/80 text-white rounded-xl font-bold text-lg transition-all duration-300 z-50 ${o()?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`)),e})(),(()=>{var e=c(er),b=e.firstChild,l=b.firstChild,R=l.firstChild,p=R.nextSibling;return e.$$click=()=>i(!1),b.$$click=Y=>Y.stopPropagation(),p.$$click=()=>i(!1),T(()=>oe(e,`fixed inset-0 bg-black/70 flex items-center justify-center z-50 transition-opacity duration-300 ${d()?"opacity-100":"opacity-0 pointer-events-none"}`)),M(),e})(),(()=>{var e=c(tr);return e.$$click=()=>i(!0),M(),e})()]}wt(["click"]);var rr=g('<button class="px-6 py-3 bg-amber-500 hover:bg-amber-600 text-emerald-950 rounded-xl font-bold transition-colors">â–¶ï¸ Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ±ÙƒÙŠØ²'),nr=g('<button class="px-4 py-3 bg-emerald-700 hover:bg-emerald-600 text-emerald-50 rounded-xl font-medium transition-colors">â¸ï¸ Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª'),Xt=g('<button class="px-4 py-3 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-xl font-medium transition-colors">â¹ï¸ Ø¥Ù†Ù‡Ø§Ø¡'),ir=g('<button class="px-6 py-3 bg-amber-500 hover:bg-amber-600 text-emerald-950 rounded-xl font-bold transition-colors">â–¶ï¸ Ø§Ø³ØªØ¦Ù†Ø§Ù'),ar=g('<button class="px-6 py-3 bg-amber-500 hover:bg-amber-600 text-emerald-950 rounded-xl font-bold transition-colors">ØªØ®Ø·ÙŠ Ø§Ù„Ø§Ø³ØªØ±Ø§Ø­Ø©'),sr=g('<div class="pt-4 border-t border-emerald-700/50 space-y-3"><h4 class="text-sm font-medium text-emerald-300">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h4><div class="grid grid-cols-2 gap-3"><div><label class="text-xs text-emerald-400 block mb-1">Ù…Ø¯Ø© Ø§Ù„ØªØ±ÙƒÙŠØ² (Ø¯Ù‚ÙŠÙ‚Ø©)</label><input type=number min=1 max=120 class="w-full px-3 py-2 bg-emerald-900/50 border border-emerald-600 rounded-lg text-emerald-50 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"></div><div><label class="text-xs text-emerald-400 block mb-1">Ù…Ø¯Ø© Ø§Ù„Ø§Ø³ØªØ±Ø§Ø­Ø© (Ø¯Ù‚ÙŠÙ‚Ø©)</label><input type=number min=1 max=30 class="w-full px-3 py-2 bg-emerald-900/50 border border-emerald-600 rounded-lg text-emerald-50 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500">'),or=g('<div class="p-4 pt-0 space-y-4"><div class="text-center py-6"><div></div><div class=text-emerald-400><!$><!/><!$><!/><!$><!/><!$><!/></div></div><div class="flex gap-2 justify-center"><!$><!/><!$><!/><!$><!/><!$><!/></div><div class="grid grid-cols-2 gap-3 mt-4"><div class="bg-emerald-900/50 rounded-lg p-3 text-center"><div class="text-2xl font-bold text-amber-400"></div><div class="text-xs text-emerald-400">Ø¬Ù„Ø³Ø§Øª Ù…ÙƒØªÙ…Ù„Ø©</div></div><div class="bg-emerald-900/50 rounded-lg p-3 text-center"><div class="text-2xl font-bold text-amber-400"></div><div class="text-xs text-emerald-400">Ø¯Ù‚ÙŠÙ‚Ø© ØªØ±ÙƒÙŠØ²</div></div></div><!$><!/><div class="pt-3 border-t border-emerald-700/50"><p class="text-xs text-emerald-500 text-center">ğŸ’¡ ØªÙ‚Ù†ÙŠØ© Ø¨ÙˆÙ…ÙˆØ¯ÙˆØ±Ùˆ: Ø±ÙƒØ² 25 Ø¯Ù‚ÙŠÙ‚Ø© Ø«Ù… Ø§Ø³ØªØ±Ø­ 5 Ø¯Ù‚Ø§Ø¦Ù‚'),dr=g('<div class="bg-emerald-800/30 rounded-xl border border-emerald-700/50 overflow-hidden"><button class="w-full p-4 flex items-center justify-between text-right hover:bg-emerald-700/20 transition-colors"><div class="flex items-center gap-3"><span class=text-2xl>ğŸ¯</span><div><div class="font-bold text-emerald-100">ÙˆØ¶Ø¹ Ø§Ù„ØªØ±ÙƒÙŠØ²</div><div class="text-sm text-emerald-400"><!$><!/><!$><!/><!$><!/><!$><!/></div></div></div><svg fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 9l-7 7-7-7"></path></svg></button><!$><!/>');function cr(t){const[d,i]=h(!1),[o,$]=h("idle"),[u,P]=h(0),[e,b]=h(0),[l,R]=h(0),[p,Y]=h(25),[q,ce]=h(5);let L=null;xt(async()=>{const k=await wl();Y(k.pomodoroLength),ce(k.breakLength)}),qt(()=>{L&&clearInterval(L)});const U=k=>{const D=Math.floor(k/60),G=k%60;return`${D.toString().padStart(2,"0")}:${G.toString().padStart(2,"0")}`},ue=()=>{$("focus"),P(p()*60),E(),fe()},N=()=>{$("break"),P(q()*60),E(),fe()},E=()=>{L&&clearInterval(L),L=setInterval(()=>{P(k=>k<=1?(me(),0):(o()==="focus"&&b(D=>D+1),k-1))},1e3)},me=()=>{L&&clearInterval(L),fe(),o()==="focus"?(R(k=>k+1),Notification.permission==="granted"&&new Notification("ğŸ‰ Ø£Ø­Ø³Ù†Øª!",{body:"Ø§Ù†ØªÙ‡Øª Ø¬Ù„Ø³Ø© Ø§Ù„ØªØ±ÙƒÙŠØ². Ø®Ø° Ø§Ø³ØªØ±Ø§Ø­Ø© Ù‚ØµÙŠØ±Ø©!",icon:"/favicon.ico"}),N()):o()==="break"&&(Notification.permission==="granted"&&new Notification("â° Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø§Ø³ØªØ±Ø§Ø­Ø©",{body:"Ø­Ø§Ù† ÙˆÙ‚Øª Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø¯Ø±Ø§Ø³Ø©!",icon:"/favicon.ico"}),$("idle"))},ke=()=>{L&&(clearInterval(L),L=null),u(),$("paused")},Se=()=>{$("focus"),E()},Pe=()=>{L&&(clearInterval(L),L=null),$("idle"),P(0)},fe=()=>{try{const k=new AudioContext,D=k.createOscillator(),G=k.createGain();D.connect(G),G.connect(k.destination),D.frequency.value=800,D.type="sine",G.gain.value=.3,D.start(),setTimeout(()=>D.stop(),200)}catch{}},Z=async()=>{"Notification"in window&&Notification.permission==="default"&&await Notification.requestPermission()},Ce=async()=>{await yl({pomodoroLength:p(),breakLength:q()})};return(()=>{var k=c(dr),D=k.firstChild,G=D.firstChild,Be=G.firstChild,He=Be.nextSibling,Ue=He.firstChild,pe=Ue.nextSibling,Le=pe.firstChild,[$e,We]=a(Le.nextSibling),Qe=$e.nextSibling,[S,W]=a(Qe.nextSibling),F=S.nextSibling,[ee,te]=a(F.nextSibling),he=ee.nextSibling,[Te,Ke]=a(he.nextSibling),Xe=G.nextSibling,it=D.nextSibling,[at,st]=a(it.nextSibling);return D.$$click=()=>i(!d()),r(pe,()=>o()==="idle"&&"Ø§Ø¨Ø¯Ø£ Ø¬Ù„Ø³Ø© ØªØ±ÙƒÙŠØ²",$e,We),r(pe,(()=>{var V=Ze(()=>o()==="focus");return()=>V()&&`Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ±ÙƒÙŠØ²: ${U(u())}`})(),S,W),r(pe,(()=>{var V=Ze(()=>o()==="break");return()=>V()&&`Ø§Ø³ØªØ±Ø§Ø­Ø©: ${U(u())}`})(),ee,te),r(pe,()=>o()==="paused"&&"Ù…ØªÙˆÙ‚Ù Ù…Ø¤Ù‚ØªØ§Ù‹",Te,Ke),r(k,x(y,{get when(){return d()},get children(){var V=c(or),je=V.firstChild,_e=je.firstChild,le=_e.nextSibling,ge=le.firstChild,[n,s]=a(ge.nextSibling),f=n.nextSibling,[w,re]=a(f.nextSibling),ne=w.nextSibling,[v,j]=a(ne.nextSibling),C=v.nextSibling,[B,we]=a(C.nextSibling),J=je.nextSibling,yt=J.firstChild,[ot,et]=a(yt.nextSibling),kt=ot.nextSibling,[dt,St]=a(kt.nextSibling),Ct=dt.nextSibling,[ct,Tt]=a(Ct.nextSibling),It=ct.nextSibling,[Mt,Pt]=a(It.nextSibling),A=J.nextSibling,ie=A.firstChild,be=ie.firstChild,ae=ie.nextSibling,K=ae.firstChild,De=A.nextSibling,[Ve,Ae]=a(De.nextSibling);return Ve.nextSibling,r(_e,(()=>{var _=Ze(()=>o()==="idle");return()=>_()?U(p()*60):U(u())})()),r(le,()=>o()==="idle"&&"Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¨Ø¯Ø¡",n,s),r(le,()=>o()==="focus"&&"ğŸ§  ÙˆÙ‚Øª Ø§Ù„ØªØ±ÙƒÙŠØ²",w,re),r(le,()=>o()==="break"&&"â˜• ÙˆÙ‚Øª Ø§Ù„Ø§Ø³ØªØ±Ø§Ø­Ø©",v,j),r(le,()=>o()==="paused"&&"â¸ï¸ Ù…ØªÙˆÙ‚Ù",B,we),r(J,x(y,{get when(){return o()==="idle"},get children(){var _=c(rr);return _.$$click=()=>{Z(),ue()},M(),_}}),ot,et),r(J,x(y,{get when(){return o()==="focus"},get children(){return[(()=>{var _=c(nr);return _.$$click=ke,M(),_})(),(()=>{var _=c(Xt);return _.$$click=Pe,M(),_})()]}}),dt,St),r(J,x(y,{get when(){return o()==="paused"},get children(){return[(()=>{var _=c(ir);return _.$$click=Se,M(),_})(),(()=>{var _=c(Xt);return _.$$click=Pe,M(),_})()]}}),ct,Tt),r(J,x(y,{get when(){return o()==="break"},get children(){var _=c(ar);return _.$$click=ue,M(),_}}),Mt,Pt),r(be,l),r(K,()=>Math.floor(e()/60)),r(V,x(y,{get when(){return o()==="idle"},get children(){var _=c(sr),Re=_.firstChild,Oe=Re.nextSibling,qe=Oe.firstChild,Ye=qe.firstChild,Ge=Ye.nextSibling,I=qe.nextSibling,O=I.firstChild,z=O.nextSibling;return Ge.$$input=H=>{Y(parseInt(H.currentTarget.value)||25),Ce()},z.$$input=H=>{ce(parseInt(H.currentTarget.value)||5),Ce()},T(()=>ve(Ge,"value",p())),T(()=>ve(z,"value",q())),M(),_}}),Ve,Ae),T(()=>oe(_e,`text-6xl font-mono font-bold mb-2 ${o()==="focus"?"text-amber-400":o()==="break"?"text-green-400":"text-emerald-300"}`)),V}}),at,st),T(()=>de(Xe,"class",`w-5 h-5 text-emerald-400 transition-transform ${d()?"rotate-180":""}`)),M(),k})()}wt(["click","input"]);var ur=g('<svg class="w-5 h-5 rotate-180"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M14 5l7 7m0 0l-7 7m7-7H3">'),mr=g('<span class="flex items-center gap-1"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><!$><!/>'),gr=g('<div class="mt-6 pt-6 border-t border-emerald-700/50"><h3 class="text-lg font-bold text-emerald-200 mb-3">Ø§Ù„ÙˆØ³ÙˆÙ…</h3><div class="flex flex-wrap gap-2">'),br=g('<div class="flex items-center gap-2 mb-4"><svg class="w-5 h-5 text-amber-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6h16M4 10h16M4 14h16M4 18h16"></path></svg><h3 class="text-lg font-bold text-amber-400">'),xr=g('<div class="bg-emerald-900/50 rounded-2xl p-6 border border-emerald-700/50 mt-6"><!$><!/><div class="grid sm:grid-cols-2 gap-4"><!$><!/><!$><!/>'),vr=g('<div class="min-h-screen bg-emerald-950 pt-20"><div class="container mx-auto px-4 py-8"><div class="flex flex-wrap items-center justify-between gap-4 mb-6"><div class="flex items-center gap-4"><!$><!/><a href=/dashboard class="inline-flex items-center gap-2 text-emerald-300 hover:text-amber-400 transition-colors"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path></svg>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a></div><!$><!/></div><div class="grid lg:grid-cols-3 gap-8"><div class=lg:col-span-2><div class="rounded-2xl overflow-hidden shadow-2xl shadow-black/30 mb-6"></div><div class="bg-emerald-900/50 rounded-2xl p-6 border border-emerald-700/50"><h1 class="text-2xl md:text-3xl font-bold text-amber-400 mb-4 font-cairo"></h1><div class="flex flex-wrap gap-4 text-emerald-300 text-sm mb-6"><span class="flex items-center gap-1"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg><!$><!/></span><!$><!/></div><div class="flex items-center gap-3 mb-6 pb-6 border-b border-emerald-700/50"><div class="w-12 h-12 bg-amber-500 rounded-full flex items-center justify-center text-emerald-950 font-bold text-lg">Ø¯</div><div><div class="font-bold text-emerald-50">Ø¯. ÙŠØ³Ø±ÙŠ Ø¬Ø¨Ø±</div><a target=_blank rel="noopener noreferrer"class="text-sm text-amber-400 hover:text-amber-300 transition-colors">Ø´Ø§Ù‡Ø¯ Ø¹Ù„Ù‰ YouTube â†—</a></div></div><div><h3 class="text-lg font-bold text-emerald-200 mb-3">Ø§Ù„ÙˆØµÙ</h3><p class="text-emerald-300 whitespace-pre-wrap leading-relaxed text-sm"></p></div><!$><!/></div><!$><!/></div><div class="lg:col-span-1 space-y-6"><!$><!/><!$><!/></div></div></div><!$><!/>'),fr=g('<span class="bg-emerald-800/50 text-emerald-300 px-3 py-1 rounded-full text-sm">'),pr=g('<div class="hidden sm:block">'),Zt=g('<div class="flex-shrink-0 w-24 h-14 rounded-lg overflow-hidden bg-emerald-800"><img class="w-full h-full object-cover group-hover:scale-105 transition-transform">'),$r=g('<div class="flex-1 min-w-0"><div class="flex items-center gap-1 text-emerald-400 text-xs mb-1"><svg class="w-3 h-3"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 19l-7-7 7-7"></path></svg>Ø§Ù„Ø¯Ø±Ø³ Ø§Ù„Ø³Ø§Ø¨Ù‚</div><p class="text-emerald-100 text-sm font-medium line-clamp-2 group-hover:text-amber-400 transition-colors">'),hr=g('<div class="flex-1 min-w-0"><div class="flex items-center gap-1 text-emerald-400 text-xs mb-1">Ø§Ù„Ø¯Ø±Ø³ Ø§Ù„ØªØ§Ù„ÙŠ<svg class="w-3 h-3"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 5l7 7-7 7"></path></svg></div><p class="text-emerald-100 text-sm font-medium line-clamp-2 group-hover:text-amber-400 transition-colors">');function _r(t){if(!t)return"";const d=t.match(/PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?/);if(!d)return t;const i=d[1]?parseInt(d[1]):0,o=d[2]?parseInt(d[2]):0,$=d[3]?parseInt(d[3]):0;return i>0?`${i}:${o.toString().padStart(2,"0")}:${$.toString().padStart(2,"0")}`:`${o}:${$.toString().padStart(2,"0")}`}function wr(t){return new Date(t).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"})}function yr(t){const d=t.video;return(()=>{var i=c(vr),o=i.firstChild,$=o.firstChild,u=$.firstChild,P=u.firstChild,[e,b]=a(P.nextSibling);e.nextSibling;var l=u.nextSibling,[R,p]=a(l.nextSibling),Y=$.nextSibling,q=Y.firstChild,ce=q.firstChild,L=ce.nextSibling,U=L.firstChild,ue=U.nextSibling,N=ue.firstChild,E=N.firstChild,me=E.nextSibling,[ke,Se]=a(me.nextSibling),Pe=N.nextSibling,[fe,Z]=a(Pe.nextSibling),Ce=ue.nextSibling,k=Ce.firstChild,D=k.nextSibling,G=D.firstChild,Be=G.nextSibling,He=Ce.nextSibling,Ue=He.firstChild,pe=Ue.nextSibling,Le=He.nextSibling,[$e,We]=a(Le.nextSibling),Qe=L.nextSibling,[S,W]=a(Qe.nextSibling),F=q.nextSibling,ee=F.firstChild,[te,he]=a(ee.nextSibling),Te=te.nextSibling,[Ke,Xe]=a(Te.nextSibling),it=o.nextSibling,[at,st]=a(it.nextSibling);return r(u,x(ht,{to:"/study",class:"inline-flex items-center gap-2 text-emerald-300 hover:text-amber-400 transition-colors",get children(){return[c(ur),"Ø§Ù„Ø¯Ø±ÙˆØ³"]}}),e,b),r($,x(Xl,{get videoId(){return t.video.id},get videoTitle(){return t.video.title},get thumbnail(){return t.video.thumbnail}}),R,p),r(ce,x(Ol,{get videoId(){return t.video.id},get title(){return t.video.title}})),r(U,()=>t.video.title),r(N,()=>wr(t.video.publishedAt),ke,Se),r(ue,x(y,{get when(){return t.video.duration},get children(){var V=c(mr),je=V.firstChild,_e=je.nextSibling,[le,ge]=a(_e.nextSibling);return r(V,()=>_r(t.video.duration),le,ge),V}}),fe,Z),r(pe,()=>t.video.description||"Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ Ù…ØªØ§Ø­"),r(L,x(y,{get when(){return Ze(()=>!!t.video.tags)()&&t.video.tags.length>0},get children(){var V=c(gr),je=V.firstChild,_e=je.nextSibling;return r(_e,x(nt,{get each(){return t.video.tags},children:le=>(()=>{var ge=c(fr);return r(ge,le),ge})()})),V}}),$e,We),r(q,x(y,{get when(){return t.prevVideo||t.nextVideo},get children(){var V=c(xr),je=V.firstChild,[_e,le]=a(je.nextSibling),ge=_e.nextSibling,n=ge.firstChild,[s,f]=a(n.nextSibling),w=s.nextSibling,[re,ne]=a(w.nextSibling);return r(V,x(y,{get when(){return t.playlistName},get children(){var v=c(br),j=v.firstChild,C=j.nextSibling;return r(C,()=>t.playlistName),v}}),_e,le),r(ge,x(y,{get when(){return t.prevVideo},get fallback(){return c(pr)},children:v=>x(ht,{to:"/study/$id",get params(){return{id:v().id}},class:"group flex gap-3 p-3 bg-emerald-800/30 rounded-xl border border-emerald-700/30 hover:border-amber-500/50 hover:bg-emerald-800/50 transition-all text-right",get children(){return[(()=>{var j=c(Zt),C=j.firstChild;return T(B=>{var we=v().thumbnail,J=v().title;return we!==B.e&&de(C,"src",B.e=we),J!==B.t&&de(C,"alt",B.t=J),B},{e:void 0,t:void 0}),j})(),(()=>{var j=c($r),C=j.firstChild,B=C.nextSibling;return r(B,()=>v().title),j})()]}})}),s,f),r(ge,x(y,{get when(){return t.nextVideo},children:v=>x(ht,{to:"/study/$id",get params(){return{id:v().id}},class:"group flex gap-3 p-3 bg-emerald-800/30 rounded-xl border border-emerald-700/30 hover:border-amber-500/50 hover:bg-emerald-800/50 transition-all text-right",get children(){return[(()=>{var j=c(Zt),C=j.firstChild;return T(B=>{var we=v().thumbnail,J=v().title;return we!==B.e&&de(C,"src",B.e=we),J!==B.t&&de(C,"alt",B.t=J),B},{e:void 0,t:void 0}),j})(),(()=>{var j=c(hr),C=j.firstChild,B=C.nextSibling;return r(B,()=>v().title),j})()]}})}),re,ne),V}}),S,W),r(F,x(Ul,{video:d,get videoId(){return t.video.id}}),te,he),r(F,x(cr,{}),Ke,Xe),r(i,x(lr,{get videoId(){return t.video.id}}),at,st),T(()=>de(Be,"href",`https://www.youtube.com/watch?v=${t.video.id}`)),i})()}var kr=g('<div class="min-h-screen bg-emerald-950 flex items-center justify-center"><div class=text-center><h1 class="text-2xl text-amber-400 mb-4">Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯</h1><!$><!/>');function Mr(){const t=cl.useLoaderData();return x(y,{get when(){return t()},get fallback(){return(()=>{var d=c(kr),i=d.firstChild,o=i.firstChild,$=o.nextSibling,[u,P]=a($.nextSibling);return r(i,x(ht,{to:"/study",class:"text-emerald-300 hover:text-amber-400 transition-colors",children:"Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø¯Ø±ÙˆØ³"}),u,P),d})()},children:d=>x(yr,{get video(){return d().video},get prevVideo(){return d().prevVideo},get nextVideo(){return d().nextVideo},get playlistName(){return d().playlistName},get playlistVideoCount(){return d().playlistVideoCount},get currentIndex(){return d().currentIndex}})})}export{Mr as component};
